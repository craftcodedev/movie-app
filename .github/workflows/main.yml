name: CI

on: [push]

jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout
        uses: actions/checkout@v2
      - name: build
        run: docker build . --file etc/docker/Dockerfile --tag craftcode/movie-app
      - name: tests
        run: docker run -w /var/app/ -i docker_movie_app_node_js node_modules/mocha/bin/mocha

      #a√±ado el uso de artefactos: todo el codigo compilado lo publico en algun sitio donde un job(deploy) siguiente pueda recogerlo y desplegarlo
      #- name: publish de code
      #- name: 